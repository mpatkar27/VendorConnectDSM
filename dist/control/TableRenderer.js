sap.ui.define(["sap/base/assert","sap/ui/core/Renderer","gramont/VCDSM/specedit/control/TableConst"],function(e,t,l){"use strict";var a={render:function(r,n){var o=n.getHorizontalRow();var i=n.getColumns();var s=n.getItems();var g=[];if(o){for(var u=-1;u<s.length;u++){var v=[];if(u==-1){for(var h=0;h<i.length;h++){var m=i[h];if(m.getVisible()){var d={styles:["gramontPlmVc_Table_Header"],control:m.getHeader(),width:m.getWidth(),hAlign:m.getHAlign()};v.push(d)}}}else{var _=s[u];var f=a._prepareDataColumns(_,i,true);e(f.length==i.length,"aDataColumns.length should be equal to aColumns.length");for(var h=0;h<i.length;h++){var m=i[h];if(m.getVisible()){var d=f[h];v.push(d)}}}if(v.length>0)g.push(v)}if(s.length==0&&g.length>0){var v=[a._getNoDataColumn(n)];g.push(v)}}else{var b=[];for(var u=0;u<s.length;u++){var _=s[u];var f=a._prepareDataColumns(_,i,false);e(f.length==i.length,"aDataColumns.length should be equal to aColumns.length");b.push(f)}for(var u=0,C=true;u<i.length;u++){var m=i[u];if(m.getVisible()){var v=[];for(var h=-1;h<b.length;h++){if(h==-1){var d={styles:["gramontPlmVc_Table_Header"],control:m.getHeader(),hAlign:m.getHAlignForVerticalRow()};v.push(d)}else{var f=b[h];var d=f[u];v.push(d)}}if(C){var d;if(b.length==0){d=a._getNoDataColumn(n)}else{d=a._getRightFillColumn(n)}C=false;v.push(d)}g.push(v)}}}r.write("<div");r.writeControlData(n);r.writeClasses();r.write(">");var c=n.getHeaderToolbar();if(c)r.renderControl(c);r.write("<table");r.addClass("gramontPlmVc_Table_Table");r.addClass(o?"gramontPlmVc_Table_Table_RowMode_Horizontal":"gramontPlmVc_Table_Table_RowMode_Vertical");if(n.getSticky())r.addClass("gramontPlmVc_Table_Table_Sticky");r.addClass(o&&n.getFixedLayout()?"gramontPlmVc_Table_Table_Layout_Fixed":"gramontPlmVc_Table_Table_Layout_Auto");r.writeClasses();r.write(">");for(var u=0;u<g.length;u++){r.write("<tr>");var v=g[u];for(var h=0;h<v.length;h++){var d=v[h];e(d,"oTableColumn should be set");var w=o?u==0:h==0;r.write("<");r.write(w?"th":"td");r.addClass("gramontPlmVc_Table_Cell");var p=d.styles;if(p){for(var T=0;T<p.length;T++){var V=p[T];r.addClass(V)}}r.writeClasses();var D=d.width;if(D)r.addStyle("width",D);var A=d.hAlign;if(A!=null){var P=t.getTextAlign(A);if(P)r.addStyle("text-align",P)}r.writeStyles();var y=d.colspan;if(y!=null)r.writeAttribute("colspan",y);var H=d.rowspan;if(H!=null)r.writeAttribute("rowspan",H);var R=d.tooltip;if(R!=null)r.writeAttributeEscaped("title",R);var x=d.columnIndex;if(x!=null)r.writeAttribute(l.ColumnIndex,x);r.write(">");var F=d.control;var S=d.text;if(F)r.renderControl(F);else if(S!=null)r.writeEscaped(S);r.write("</");r.write(w?"th":"td");r.write(">")}r.write("</tr>")}r.write("</table>");r.write("</div>")},_prepareDataColumns:function(t,l,a){var r=l.length;var n=t.getCells().slice(0,r);var o=r-n.length;for(var i=0;i<o;i++)n.push(null);e(n.length==r,"aCells.length should be equal to iColumnsLength");var s=[];for(var i=0;i<n.length;i++){var g=n[i];var u=l[i];var v=["gramontPlmVc_Table_Data"];var h=null;if(t.getError())h="gramontPlmVc_Table_Data_Error";else if(t.getDeleted())h="gramontPlmVc_Table_Data_Deleted";else if(t.getAutoGrow())h="gramontPlmVc_Table_Data_AutoGrow";if(h!=null)v.push(h);var m={styles:v,hAlign:a?u.getHAlign():u.getHAlignForVerticalRow(),tooltip:t.getTooltip_AsString(),columnIndex:i,control:g};s.push(m)}e(s.length==r,"aTableColumns.length should be equal to iColumnsLength");return s},_getNoDataColumn:function(t){var l=t.getHorizontalRow();var r=a._getVisibleColumnCount(t);var n=l?r:null;if(n!=null)e(n>0,"iColspan should be > 0");var o=l?null:r;if(o!=null)e(o>0,"iRowspan should be > 0");var i={styles:["gramontPlmVc_Table_NoData"],colspan:n,rowspan:o,text:t.getModel("i18n").getProperty("Table.noData")};return i},_getRightFillColumn:function(e){var t={styles:["gramontPlmVc_Table_RightFill"],rowspan:a._getVisibleColumnCount(e)};return t},_getVisibleColumnCount:function(e){var t=e.getColumns();var l=0;for(var a=0;a<t.length;a++){var r=t[a];if(r.getVisible())l++}return l}};return a},true);