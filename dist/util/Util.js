sap.ui.define(["sap/base/assert","sap/m/Column","sap/m/ColumnListItem","sap/m/Label","sap/m/LabelDesign","sap/m/MessageBox","sap/m/Text","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/model/type/Date"],function(e,r,a,t,n,s,o,l,i,u){"use strict";var c={MessageBoxType:{Warning:"warning",Error:"error",Confirm:"confirm"},createSearchFilter:function(e,r){var a=null;if(e!=""){var t=[];for(var n=0;n<r.length;n++){t.push(new l({path:r[n],operator:i.Contains,value1:e}))}a=new l({filters:t,and:false})}return a},copy:function(r){var a=false;switch(jQuery.type(r)){case"array":a=true;break;case"object":break;default:e(false,"Only array and object types can be copied")}if(a)r={wrap:r};var t=jQuery.extend(true,{},r);if(a)t=t.wrap;return t},buildValueHelperHeaderAndTemplate:function(e){var s=e.headerInfo.byOrder;var l=e.headerShow;var i=[];var c=[];var p=new a;for(var v=0;v<s.length;v++){var g=s[v];if(!l[g.FIELDNAME])continue;i.push(g.FIELDNAME);var f=new t({design:n.Bold});f.setText(g.SCRTEXT);var d=new r({header:f});c.push(d);var h=null;switch(g.DATATYPE){case"DATS":h=new u;break}var m=new o({wrapping:false,text:{path:g.FIELDNAME,type:h}});p.addCell(m)}var y={headerPropNames:i,headerColumns:c,template:p};return y},parseDateFromString:function(e){var r=/^(\d{4})(\d{2})(\d{2})$/;var a=null;var t=r.exec(e);if(t){var n=parseInt(t[1]);var s=parseInt(t[2])-1;var o=parseInt(t[3]);a=new Date(n,s,o)}return a},convertDateToString:function(e,r){if(r==null)r="";var a=c._padInteger(e.getFullYear(),4);var t=c._padInteger(e.getMonth()+1,2);var n=c._padInteger(e.getDate(),2);var s=a+r+t+r+n;return s},convertTimeToString:function(e){var r=c._padInteger(e.getHours(),2);var a=c._padInteger(e.getMinutes(),2);var t=c._padInteger(e.getSeconds(),2);var n=r+":"+a+":"+t;return n},getSpecificationKeyDate:function(){var e=new Date;return e},showMessageBox:function(r,a,t){var n=null;var o=[];switch(a.type){case c.MessageBoxType.Warning:n=s.Icon.WARNING;o.push(s.Action.OK);break;case c.MessageBoxType.Error:n=s.Icon.ERROR;o.push(s.Action.OK);break;case c.MessageBoxType.Confirm:n=s.Icon.QUESTION;o.push(s.Action.YES);o.push(s.Action.NO);if(a.cancel)o.push(s.Action.CANCEL);break;default:e(false,"type is unknown")}e(n!=null,"sIcon should be set");var l=r.getI18nBundle().getText("Util.messageBox."+a.type);var i=function(r){var a=null;switch(r){case s.Action.OK:case s.Action.YES:a=true;break;case s.Action.NO:a=false;break;case s.Action.CANCEL:break;default:e(false,"sAction is unknown")}if(t)t(a)};var u={icon:n,title:l,actions:o,onClose:i,styleClass:r.getNavigator().getContentDensityClass()};var p=a.details;if(p!=null){p=p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br/>");u.details=p}s.show(a.message,u)},showExecuteError:function(r,a,t,n,s){e(!t.allSuccess,"allSuccess should be cleared");var o=null;var l=null;var i=t.error;if(i){o=i.message;l=i.details}else{var u=t.responses;var p=0;for(var v=0;v<u.length;v++){var g=u[v];i=g.error;if(i)p++}e(p>0,"iErrorCount should be > 0");if(a==null)e(p==1,"iErrorCount should be equal to 1");else o=r.getI18nBundle().getText(a);l=[];for(var v=0;v<u.length;v++){var g=u[v];i=g.error;if(i){var f=i.message;if(o==null){o=f}else{if(l.length>0)l.push("");l.push(f)}var d=c.getErrorMessages(null,i.details,i.fieldErrorsByField);l=l.concat(d)}}}e(o!=null,"sMessage should be set");e(l,"aDetails should be set");var h=function(){if(s)s()};c.showMessageBox(r,{type:n?c.MessageBoxType.Error:c.MessageBoxType.Warning,message:o,details:l.join("\n")},h)},formatSort:function(e){var r=c._padInteger(e,4);return r},atHistoryTop:function(){var e=window.history.length==1;return e},getErrorMessages:function(r,a,t){var n=[];if(r!=null)n.push(r);e(a,"aDetails should be set");for(var s=0;s<a.length;s++){var o=a[s];n.push(o)}e(t,"oFieldErrorsByField should be set");for(var l in t){var i=t[l];var u=l!=""?l+": ":"";for(var s=0;s<i.length;s++){var c=i[s];var o=u+c;n.push(o)}}return n},getModulePath:function(e){var r=e.replace(/\./g,"/");return r},checkFieldName:function(r){e(r.length>0&&r.indexOf("/")==-1,"Invalid FieldName")},_padInteger:function(e,r){var a=e.toString();var t=r-a.length;for(var n=0;n<t;n++)a="0"+a;return a}};return c});